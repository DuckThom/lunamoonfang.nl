{"version":3,"sources":["stars.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"stars.js","sourcesContent":["var Star = function(color, width, height) {\n    this.x =  Math.round( Math.random() * width);\n    this.y =  Math.round( Math.random() * height);\n    this.rad = Math.round( Math.random()) + 1;\n    this.rgba = color;\n    this.vy = Math.random() * -0.03;\n};\n\nvar Stars = function(max, debug) {\n    this.lastUpdate = 0;\n    this.debug = typeof debug == 'boolean' ? debug : false;\n    this.running = false;\n    this.color = \"#ffffff\";\n\n    this.width = $(document).width();\n    this.height = $('header').height();\n\n    var canvas = document.getElementById('stars-canvas');\n    canvas.width = this.width;\n    canvas.height = this.height;\n\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n    this.ctx.font = '18px bold \\'courier new\\'';\n    this.ctx.globalCompositeOperation = 'lighter';\n    this.ctx.fillStyle = this.color;\n\n    this.stars = [];\n    this.maxStars = max;\n\n    for(var i = 0; i < this.maxStars; i++){\n        this.stars.push(new Star(this.color, this.width, this.height));\n    }\n};\n\nStars.prototype.run = function() {\n    if(!this.running) {\n        this.running = true;\n        this.lastUpdate = Date.now();\n\n        var self = this;\n\n        this.interval = setInterval(function() {\n            self.loop.call(self);\n        }, 16.6667);\n    }\n};\n\nStars.prototype.loop = function() {\n    var now = Date.now();\n    var dt = now - this.lastUpdate;\n    this.lastUpdate = now;\n\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    this.update(dt);\n    this.render(dt);\n};\n\nStars.prototype.update = function(dt) {\n    for(var i = 0;i < this.maxStars; i++){\n        var star = this.stars[i];\n\n        // Move the star on the Y axis\n        star.y += (dt * star.vy);\n\n        // Allow some movement off-screen to prevent the stars from suddenly disappearing\n        if(star.y > this.canvas.height) star.y = -5;\n        if(star.y < -5) star.y = this.canvas.height;\n\n        this.stars[i] = star;\n    }\n};\n\nStars.prototype.render = function(dt) {\n    for(var i = 0;i < this.maxStars; i++){\n        var star = this.stars[i];\n\n        /**\n         * Create a new star\n         */\n        this.ctx.beginPath();\n        this.ctx.arc(star.x, star.y, star.rad*1.5, 0, Math.PI*2, true);\n        this.ctx.fill();\n        this.ctx.closePath();\n    }\n\n    if (this.debug) {\n        this.ctx.fillText('[DEBUG] Delta Time: ' + dt + 'ms', 20, 20);\n    }\n};"],"sourceRoot":"/source/"}